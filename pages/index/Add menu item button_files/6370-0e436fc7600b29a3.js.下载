try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8d0f24f2-fbe4-49bd-854d-d919c45ea9ac",e._sentryDebugIdIdentifier="sentry-dbid-8d0f24f2-fbe4-49bd-854d-d919c45ea9ac")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6370],{9140:(e,t,a)=>{a.d(t,{d:()=>m});var s=a(2348),n=a(54568),l=a(58720),r=a(84284),o=a(37541),i=a(23812),c=a(27541),d=a(10369),u=a(59666);function f(){let e=(0,s._)(["\n  text-text-400\n  text-sm\n  font-medium\n"]);return f=function(){return e},e}function h(){let e=(0,s._)(["\n  text-xs\n  font-normal\n"]);return h=function(){return e},e}let m=e=>{let{category:t,setCategory:a,notes:s,setNotes:o,reporterEmail:f,setReporterEmail:h,reporterName:m,setReporterName:x,optOutOfTraining:v,setOptOutOfTraining:j,onSubmit:y,onClose:b,additionalFields:M}=e,w=(0,d.A)(),_=(0,c.useRouter)(),C=(()=>{let e=(0,d.A)();return{COPYRIGHT_INFRINGEMENT:e.formatMessage({defaultMessage:"Copyright infringement",id:"KBxpgB8JHb"}),TRADEMARK_INFRINGEMENT:e.formatMessage({defaultMessage:"Trademark infringement",id:"vYjeaNdXif"}),CHILD_SAFETY:e.formatMessage({defaultMessage:"Child safety/sexual abuse",id:"ddXREI8PNV"}),FRAUD:e.formatMessage({defaultMessage:"Fraud",id:"YoXOdinNC1"}),SEXUALLY_EXPLICIT_CONTENT:e.formatMessage({defaultMessage:"Sexually Explicit content",id:"D0NxeIKdoR"}),VIOLENCE_AND_HATE:e.formatMessage({defaultMessage:"Violence and/or hate speech",id:"vyV1zGTEEH"}),ILLEGAL_GOODS:e.formatMessage({defaultMessage:"Illegal goods",id:"13OdRQYanm"}),COURT_ORDER:e.formatMessage({defaultMessage:"Court order",id:"2mmEfFQIze"}),PRIVATE_OR_CONFIDENTIAL_INFORMATION:e.formatMessage({defaultMessage:"Private/confidential information",id:"qndjDTg0gE"}),DEFAMATION:e.formatMessage({defaultMessage:"Defamation",id:"h9Y5N1xs5X"}),OTHER_ILLEGAL:e.formatMessage({defaultMessage:"Other illegal or unlawful content",id:"Bjp5vOloME"}),VIOLATION_OF_TERMS:e.formatMessage({defaultMessage:"Violation of terms or usage policy",id:"8Aa/HbeJSY"})}})(),N=null;return"COPYRIGHT_INFRINGEMENT"===t||"TRADEMARK_INFRINGEMENT"===t||"PRIVATE_OR_CONFIDENTIAL_INFORMATION"===t||"COURT_ORDER"===t?N=(0,n.jsx)("div",{className:"text-text-300 border-0.5 border-border-300 rounded-lg p-12 text-sm",children:(0,n.jsx)(u.A,{defaultMessage:"Please use this <link>form</link> to report copyright infringement.",id:"6Ovg0gmxY3",values:{link:e=>(0,n.jsx)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSeO9Hzkyf_hQ2fYkfP_cqAcJG5kdlkg1wF4drQEFK9Z6db7jg/viewform",target:"_blank",className:"underline",children:e})}})}):t&&(N=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{htmlFor:"reporter-name",children:(0,n.jsx)(u.A,{defaultMessage:"Your name",id:"vlKhIlKczK"})}),(0,n.jsx)(l.ks,{id:"reporter-name",value:m,onChange:e=>x(e.target.value),placeholder:w.formatMessage({defaultMessage:"Optional",id:"InWqysQtIQ"})}),M,(0,n.jsxs)(g,{htmlFor:"reporter-email",children:[(0,n.jsx)(u.A,{defaultMessage:"Your email",id:"nONnTwYJzw"}),(0,n.jsx)(p,{children:(0,n.jsx)(u.A,{defaultMessage:"If provided, we may contact you for additional information or updates on this report",id:"76+sVeXWuh"})})]}),(0,n.jsx)(l.ks,{id:"reporter-email",value:f,onChange:e=>h(e.target.value),placeholder:w.formatMessage({defaultMessage:"Optional",id:"InWqysQtIQ"})}),(0,n.jsxs)(g,{htmlFor:"notes",children:[(0,n.jsx)(u.A,{defaultMessage:"Additional information",id:"gh/lBJ3ybG"}),(0,n.jsxs)(p,{className:"flex flex-col gap-1",children:[(0,n.jsx)("div",{children:(0,n.jsx)(u.A,{defaultMessage:"Please provide any additional information to help us understand your request.",id:"iqT0iuZphp"})}),(0,n.jsx)("div",{children:(0,n.jsx)(u.A,{defaultMessage:"If you are reporting the content as illegal/unlawful, please describe in detail why you believe the identified content is illegal/unlawful, citing specific provisions of law wherever possible.",id:"FtDimnJZ6A"})}),(0,n.jsx)("div",{children:(0,n.jsx)(u.A,{defaultMessage:"If you are reporting the content as violating our policies (including our terms or Usage Policy), please describe in detail why you believe the identified content is in violation of our policies, with specific citations to our policies wherever possible.",id:"4XdZthEtcv"})})]})]}),(0,n.jsx)(l.fs,{id:"notes",value:s,onChange:e=>o(e.target.value),placeholder:w.formatMessage({defaultMessage:"Optional",id:"InWqysQtIQ"})}),(0,n.jsxs)(g,{children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(u.A,{defaultMessage:"Opt out of training on this report",id:"mREcB0MAuE"}),(0,n.jsx)(r.j,{checked:v,onChange:()=>j(!v)})]}),(0,n.jsx)(p,{children:(0,n.jsx)(u.A,{defaultMessage:"We value user reports to uphold our platform’s integrity and improve our ability to enforce our Usage Policy. Unless you opt out, reports may be used to train models for use by our Trust & Safety team, consistent with Anthropic’s safety mission. Opt out of this use by changing the toggle above.",id:"2IiG1AGCna"})})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,n.jsx)(i.$,{variant:"secondary",onClick:b,children:(0,n.jsx)(u.A,{defaultMessage:"Close",id:"rbrahOGMC3"})}),(0,n.jsx)(i.$,{onClick:()=>{y(),_.push("/reported")},variant:"primary",children:(0,n.jsx)(u.A,{defaultMessage:"Report",id:"x5Tz6MZH82"})})]})]})),(0,n.jsxs)("div",{className:"flex w-full flex-col gap-2 pt-6",children:[(0,n.jsx)(g,{htmlFor:"report-reason-dropdown",children:(0,n.jsx)(u.A,{defaultMessage:"Why are you reporting this?",id:"0nCKXihfO0"})}),(0,n.jsxs)(l.l6,{id:"report-reason-dropdown",value:null!=t?t:"select-report-reason",onChange:e=>a(e.target.value),children:[(0,n.jsx)("option",{value:"select-report-reason",disabled:!0,children:(0,n.jsx)(u.A,{defaultMessage:"Select report reason",id:"bk8tuJl/tJ"})}),Object.entries(C).map(e=>{let[t,a]=e;return(0,n.jsx)("option",{value:t,children:a},t)})]}),N]})},g=o.J.label(f()),p=o.J.div(h())},10158:(e,t,a)=>{a.d(t,{g:()=>n});var s=a(54568);let n=e=>{let{height:t,className:a}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 139 34",className:a,height:t,fill:"currentColor","aria-label":"Claude",children:(0,s.jsx)("path",{d:"M18.07 30.79c-5.02 0-8.46-2.8-10.08-7.11a19.2 19.2 0 0 1-1.22-7.04C6.77 9.41 10 4.4 17.16 4.4c4.82 0 7.78 2.1 9.48 7.1h2.06l-.28-6.9c-2.88-1.86-6.48-2.81-10.87-2.81-6.16 0-11.41 2.77-14.34 7.74A16.77 16.77 0 0 0 1 18.2c0 5.53 2.6 10.42 7.5 13.15a17.51 17.51 0 0 0 8.74 2.06c4.78 0 8.57-.91 11.93-2.5l.87-7.62h-2.1c-1.26 3.48-2.76 5.57-5.25 6.68-1.22.55-2.76.83-4.62.83Zm21.65-26.4.2-3.39H38.5l-6.33 1.9v1.02l2.8 1.3v23.79c0 1.62-.82 1.98-3 2.25V33h10.75v-1.74c-2.17-.27-3-.63-3-2.25V4.4Zm42.75 29h.83l7.27-1.38v-1.78l-1.03-.07c-1.7-.16-2.13-.52-2.13-1.9V15.58l.2-4.07h-1.15l-6.87.99v1.73l.67.12c1.85.28 2.4.8 2.4 2.1v11.3C80.9 29.13 79.2 30 77.19 30c-2.26 0-3.64-1.15-3.64-3.8V15.58l.2-4.07h-1.19l-6.87.99v1.73l.71.12c1.86.28 2.41.8 2.41 2.1v10.43c0 4.42 2.49 6.52 6.48 6.52 3.04 0 5.53-1.62 7.39-3.88l-.2 3.88Zm-20-14.06c0-5.65-3-7.82-8.4-7.82-4.79 0-8.27 1.97-8.27 5.25 0 1 .36 1.74 1.07 2.25l3.64-.47c-.16-1.1-.24-1.78-.24-2.05 0-1.86.99-2.8 3-2.8 2.97 0 4.47 2.09 4.47 5.44v1.11l-7.51 2.25c-2.49.67-3.91 1.27-4.86 2.65a5 5 0 0 0-.71 2.8c0 3.2 2.21 5.46 5.97 5.46 2.72 0 5.13-1.23 7.23-3.56.75 2.33 1.9 3.56 3.95 3.56 1.66 0 3.16-.68 4.5-1.98l-.4-1.38c-.59.16-1.14.23-1.73.23-1.15 0-1.7-.9-1.7-2.68v-8.26Zm-9.6 10.87c-2.05 0-3.31-1.19-3.31-3.28 0-1.43.67-2.26 2.1-2.73l6.08-1.94v5.85c-1.94 1.46-3.08 2.1-4.86 2.1Zm63.3 1.81v-1.78l-1.02-.07c-1.7-.16-2.14-.52-2.14-1.9V4.4l.2-3.4h-1.42l-6.32 1.9v1.02l2.8 1.3v7.83a8.84 8.84 0 0 0-5.37-1.54c-6.28 0-11.18 4.78-11.18 11.93 0 5.89 3.51 9.96 9.32 9.96 3 0 5.61-1.47 7.23-3.72l-.2 3.72h.83l7.27-1.39Zm-13.15-18.13c3 0 5.25 1.74 5.25 4.94v9a7.2 7.2 0 0 1-5.21 2.1c-4.31 0-6.48-3.4-6.48-7.94 0-5.1 2.48-8.1 6.44-8.1Zm28.52 4.5c-.55-2.64-2.17-4.15-4.42-4.15-3.36 0-5.7 2.53-5.7 6.17 0 5.37 2.85 8.85 7.44 8.85a8.6 8.6 0 0 0 7.38-4.35l1.35.36c-.6 4.66-4.82 8.14-10 8.14-6.08 0-10.27-4.5-10.27-10.9 0-6.45 4.54-11 10.63-11 4.54 0 7.74 2.73 8.77 7.48l-15.84 4.85V21.7l10.66-3.32Z"})})}},15393:(e,t,a)=>{a.d(t,{f:()=>i});var s=a(64328),n=a(45054),l=a(68067),r=a(7620),o=a(10369);let i=function(){let{artifactContext:e,onRateLimitError:t,onMissingOrganization:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{value:i}=(0,l.fS)("apps_use_turmeric"),{activeOrganization:c}=(0,s.YL)(),{addError:d}=(0,n.Y)(),u=(0,o.A)();return(0,r.useCallback)(async s=>{if(!i)return Promise.resolve(null);if(!(null==c?void 0:c.uuid))return null==a||a(),Promise.resolve(null);try{var n;let a=await fetch("/api/organizations/".concat(null==c?void 0:c.uuid,"/proxy/v1/messages"),{method:"POST",headers:{"Content-Type":"application/json",...e?{"anthropic-artifact-id":e.uuid,"anthropic-artifact-entity-type":e.type}:{}},body:JSON.stringify({messages:[{role:"user",content:s}]})});if(!a.ok)throw 429===a.status&&(t?t():d(u.formatMessage({defaultMessage:"Limit reached. This artifact uses Claude for responses. Try again when the message limit resets.",id:"5Ocu9uCFLz"}))),Error("HTTP error! status: ".concat(a.status));let l=await a.json();return Promise.resolve((null==(n=l.content[0])?void 0:n.text)||null)}catch(e){return Promise.reject(e)}},[null==c?void 0:c.uuid,e,i,t,a,d,u])}},19757:(e,t,a)=>{a.d(t,{I:()=>R});var s=a(2348),n=a(54568),l=a(82028),r=a(45054),o=a(26819),i=a(58720),c=a(37541),d=a(21266),u=a(63911),f=a(23812),h=a(66716),m=a(3075),g=a(84617),p=a(13910),x=a(19977),v=a(39500),j=a(72902),y=a(7620),b=a(10369),M=a(59666),w=a(85028),_=a(13644),C=a(12142),N=a(10665),A=a(85705),E=a(45271),T=a(39383),I=a(35580);function k(){let e=(0,s._)(["\n  bg-bg-000 \n  border-0.5 \n  border-border-300 \n  rounded-lg \n  shadow-sm\n  p-5\n  flex \n  flex-col \n  gap-4\n  items-stretch\n  self-stretch\n"]);return k=function(){return e},e}let O=c.J.div(k()),P=e=>{let{isOpen:t,onClose:a,variant:s,unknownServerCount:l}=e,r=(0,b.A)();return(0,n.jsxs)(m.aF,{title:r.formatMessage({defaultMessage:"Connectors unavailable",id:"nKB/o0ajrR"}),isOpen:t,onClose:a,children:[(0,n.jsx)("div",{className:"flex flex-col gap-3 py-3",children:(0,n.jsx)(O,{children:(0,n.jsx)("p",{className:"text-sm text-text-500",children:"disabled"===s?(0,n.jsx)(M.A,{defaultMessage:"Your organization admin has disabled connectors in artifacts. To use this feature, ask your admin to enable connectors in artifacts.",id:"+0AXIvgEHO"}):(0,n.jsx)(M.A,{defaultMessage:"{count, plural, one {# requested connector is not in your directory and has been} other {# requested connectors are not in your directory and have been}} hidden. Some functionality may be limited. {link}",id:"BwbZlzhj12",values:{count:l||0,link:(0,n.jsx)(g.Y,{href:"/settings/connectors",children:(0,n.jsx)(M.A,{defaultMessage:"Manage connectors.",id:"0+FF8HZw5G"})})}})})})}),(0,n.jsx)(m.vW,{children:(0,n.jsx)(f.$,{variant:"primary",onClick:a,children:(0,n.jsx)(M.A,{defaultMessage:"Close",id:"rbrahOGMC3"})})})]})},S=e=>{let{server:t,variant:a,onClick:s,enabledToolsCount:l,artifactId:r,versionUuid:i}=e,{isRemoteServerInDirectory:c}=(0,T.hW)(),d=(0,C.Q)({queryString:r?"artifactId=".concat(encodeURIComponent(r),"&versionUuid=").concat(encodeURIComponent(i||"")):""}),[u,h]=(0,y.useState)(!1),m=!!t&&"remote"===t.type&&c(t);return(0,n.jsxs)("div",{className:(0,j.A)("w-full flex items-center justify-between rounded-lg bg-bg-000",s&&"connect"!==a&&"cursor-pointer hover:bg-bg-100 transition-colors"),onClick:"connect"===a?void 0:s,children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,n.jsx)(E.z,{size:28,imageSize:16,type:"favicon",src:t.url,name:t.name||t.url}),(0,n.jsxs)("div",{className:"flex gap-2 items-center min-w-0 flex-1",children:[(0,n.jsx)(p.Tooltip,{tooltipContent:t.url||t.name||"",children:(0,n.jsx)("div",{className:"font-medium text-sm truncate",children:t.name||t.url||""})}),!m&&(0,n.jsx)(o.E,{className:"flex-shrink-0",children:(0,n.jsx)(M.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"})})]})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:"connect"===a?(0,n.jsx)(f.$,{variant:"secondary",size:"sm",onClick:e=>{e.stopPropagation(),h(!0),d({uuid:t.uuid||"",url:t.url})},loading:u,className:"ml-2",children:(0,n.jsx)(M.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"})}):(0,n.jsxs)(n.Fragment,{children:[l&&l>0?(0,n.jsx)("span",{className:"text-sm text-accent-secondary-100",children:(0,n.jsx)(M.A,{defaultMessage:"{count} enabled",id:"yA/nbBqm+9",values:{count:l}})}):(0,n.jsx)("span",{className:"text-sm text-fg-400",children:(0,n.jsx)(M.A,{defaultMessage:"Disabled",id:"tthToSLF5Z"})}),(0,n.jsx)(x.J,{className:"w-4 h-4 text-fg-400"})]})})]})},R=e=>{let{isOpen:t,requestedServers:a,onClose:s,artifactContext:o}=e,c=(0,b.A)(),p=(0,I.Uz)(),{addError:x}=(0,r.Y)(),j=c.formatMessage({defaultMessage:"Failed to save tool configuration. Please try again.",id:"ZohwwHXd08"}),{data:C}=(0,_.rX)(),E=!(null==C?void 0:C.disabled_features.includes("mcp_artifacts")),[T,k]=(0,y.useState)(null),[R,F]=(0,y.useState)(""),[L,z]=(0,y.useState)({}),{data:D}=(0,w.mt)({entityId:o.uuid,artifactEntityType:o.type}),{knownServers:Y,unknownServers:G}=(0,y.useMemo)(()=>{if(!p)return{knownServers:void 0,unknownServers:[]};let e=[...a||[]],t=new Set((null==a?void 0:a.map(e=>e.url).filter(Boolean))||[]);(null==D?void 0:D.mcp_servers)&&D.mcp_servers.forEach(a=>{t.has(a.url)||e.push({name:a.name,url:a.url})});let s=[],n=[];return e.forEach(e=>{let t=p.find(t=>{let a="remote"===t.type,s=t.url===e.url;return a&&s});t?s.push(t):n.push(e)}),{knownServers:s,unknownServers:n}},[a,p,D]),Z=(0,N.v)("enabled_mcp_tools"),q=(0,y.useMemo)(()=>Z||{},[Z]),{mutateAsync:J}=(0,w.XJ)({entityId:o.uuid,artifactEntityType:o.type}),K=(0,y.useCallback)(e=>e.tools?R?e.tools.filter(e=>e.name.toLowerCase().includes(R.toLowerCase())):e.tools:[],[R]);if((0,y.useEffect)(()=>{if((null==D?void 0:D.mcp_servers)&&(null==Y?void 0:Y.length)){let e={};D.mcp_servers.forEach(t=>{let a=Y.find(e=>e.url===t.url);(null==a?void 0:a.tools)&&a.tools.forEach(a=>{let s=t.allowed_tools.includes(a.name);e[a.enabledKey]=s})}),z(e)}else Object.keys(q).length>0&&z(q)},[D,Y,q]),!(null==Y?void 0:Y.length)&&!G.length)return s(),null;if(!(null==Y?void 0:Y.length))return(0,n.jsx)(P,{isOpen:t,onClose:s,variant:"empty",unknownServerCount:G.length});let U=Y.filter(e=>e.isConnected),H=async e=>{try{await V(e),s()}catch(e){x(j,{error:e})}},V=async e=>{let t=Y.map(t=>{let a=t.tools||[],s=[],n=[],l=t.isConnected;return e&&a.length>0&&l?a.forEach(e=>{!1!==L[e.enabledKey]?s.push(e.name):n.push(e.name)}):!e&&a.length>0&&a.forEach(e=>{n.push(e.name)}),{name:t.name||"",url:t.url||"",allowed_tools:s,disallowed_tools:n,pending_tool_section:!!e&&!l}}),a=G.map(e=>({name:e.name||"",url:e.url||"",allowed_tools:[],disallowed_tools:[],pending_tool_section:!1}));await J({mcp_servers:[...t,...a]})},Q=e=>!!e.tools&&0!==e.tools.length&&e.tools.filter(e=>!1!==L[e.enabledKey]).length>0;return T?(0,n.jsx)(m.aF,{title:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>k(null),className:"hover:bg-bg-200 rounded transition-colors",children:(0,n.jsx)(v.A,{className:"w-5 h-5"})}),(0,n.jsx)("span",{children:(0,n.jsx)(M.A,{defaultMessage:"Customize {serverName}",id:"xtLJnxdHqO",values:{serverName:T.name||T.url||""}})})]}),isOpen:t,onClose:s,children:(0,n.jsxs)("div",{className:"flex flex-col gap-3 py-3",children:[(0,n.jsx)("p",{className:"text-sm description-text-300",children:(0,n.jsx)(d.YX,{id:"crystal_muffin_bicycle"})}),(0,n.jsx)(h.r,{gradientHeight:24,className:"max-h-[500px]",children:(0,n.jsxs)(O,{className:"!gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2.5 px-1.5",children:[(0,n.jsx)(u.vj,{className:"w-4 h-4 text-text-500/50"}),(0,n.jsx)(i.ks,{placeholder:c.formatMessage({defaultMessage:"Search tools",id:"QVlai1/dYD"}),value:R,onChange:e=>F(e.target.value),className:"flex-1 !border-none !outline-none !p-0 !text-sm text-text-300 placeholder:text-text-500/70"})]}),T.tools&&T.tools.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A.$,{item:{key:"select-all",type:"switch",label:Q(T)?c.formatMessage({defaultMessage:"Disable all tools",id:"8A9N39nihk"}):c.formatMessage({defaultMessage:"Enable all tools",id:"x4/g36jIjW"}),icon:(0,n.jsx)(l.p,{letter:T.tools[0].name,size:16}),isChecked:Q(T),onClick:()=>{let e=!Q(T);if(T.tools){let t={...L};T.tools.forEach(a=>{t[a.enabledKey]=e}),z(t)}}}}),(0,n.jsx)("div",{className:"border-t border-border-300"})]}),K(T).map(e=>{let t=e.enabledKey,a=!1!==L[t];return(0,n.jsx)(A.$,{item:{key:t,type:"switch",label:e.name,icon:(0,n.jsx)(l.B,{letter:e.name,size:16}),isChecked:a,onClick:()=>{z(e=>({...e,[t]:!a}))}}},t)})]})})]})}):E?(0,n.jsxs)(m.aF,{title:c.formatMessage({defaultMessage:"Allow access to {count} connectors",id:"gqJuzJIhGT"},{count:Y.length}),isOpen:t,onClose:s,children:[(0,n.jsxs)("div",{className:"flex flex-col gap-3 py-3",children:[(0,n.jsx)("p",{className:"text-sm description-text-300",children:(0,n.jsx)(d.YX,{id:"penguin_tomato_umbrella"})}),(0,n.jsx)(h.r,{gradientHeight:24,className:"max-h-[500px]",children:(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsxs)(O,{children:[Y.map(e=>(0,n.jsx)(S,{server:e,variant:U.includes(e)?"tools":"connect",onClick:()=>k(e),enabledToolsCount:(e=>e.tools&&0!==e.tools.length?e.tools.filter(e=>!1!==L[e.enabledKey]).length:null)(e),artifactId:o.id,versionUuid:o.uuid},e.uuid||e.url)),G.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"border-t-0.5 border-border-300 -mx-5"}),(0,n.jsx)("p",{className:"text-xs text-text-500",children:(0,n.jsx)(M.A,{defaultMessage:"{count, plural, one {# requested connector is not in your directory and has been} other {# requested connectors are not in your directory and have been}} hidden. Some functionality may be limited. {link}",id:"BwbZlzhj12",values:{count:G.length,link:(0,n.jsx)(g.Y,{href:"/settings/connectors",children:(0,n.jsx)(M.A,{defaultMessage:"Manage connectors.",id:"0+FF8HZw5G"})})}})})]})]}),(0,n.jsx)(O,{className:"bg-bg-100",children:(0,n.jsx)("p",{className:"text-sm text-text-500",children:(0,n.jsx)(M.A,{defaultMessage:"Claude cannot guarantee the security or privacy practices of third-party integrations.",id:"3gyayAmXQv"})})})]})})]}),(0,n.jsxs)(m.vW,{children:[(0,n.jsx)(f.$,{variant:"secondary",onClick:()=>H(!1),children:(0,n.jsx)(M.A,{defaultMessage:"Disallow all tools",id:"Vm8mYnmEt3"})}),(0,n.jsx)(f.$,{onClick:()=>H(!0),variant:"primary",children:(0,n.jsx)(M.A,{defaultMessage:"Continue with enabled tools",id:"V6ki9Tnm7q"})})]})]}):(0,n.jsx)(P,{isOpen:t,onClose:s,variant:"disabled"})}},78540:(e,t,a)=>{a.d(t,{j:()=>r});var s=a(64328),n=a(68067),l=a(7620);let r=function(){let{artifactContext:e,onMissingOrganization:t,chatConversationUuid:a,onStorageChange:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:o}=(0,s.YL)(),{value:i}=(0,n.fS)("claude_create_pebble_stone"),c=(0,l.useCallback)(async function(s){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(null==o?void 0:o.uuid))return null==t||t(),Promise.resolve(null);if(!i||!e)return Promise.resolve(null);try{let t=new URL("/api/organizations/".concat(o.uuid,"/artifacts/").concat(e.type,"/").concat(e.uuid,"/storage/").concat(encodeURIComponent(s)),window.location.origin);t.searchParams.set("shared",n.toString()),a&&t.searchParams.set("chat_conversation_uuid",a);let l=await fetch(t.toString(),{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw Error("Database error: ".concat(l.status));let r=await l.json();return Promise.resolve(r)}catch(e){return Promise.reject(e)}},[i,null==o?void 0:o.uuid,e,t,a]),d=(0,l.useCallback)(async function(s,n){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(null==o?void 0:o.uuid))return null==t||t(),Promise.resolve(null);if(!i||!e)return Promise.resolve(null);try{let t=await fetch("/api/organizations/".concat(o.uuid,"/artifacts/").concat(e.type,"/").concat(e.uuid,"/storage/").concat(encodeURIComponent(s)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:n,shared:l,...a&&{chat_conversation_uuid:a}})});if(!t.ok)throw Error("Database error: ".concat(t.status));let i=await t.json();return null==r||r(),Promise.resolve(i)}catch(e){return Promise.reject(e)}},[i,null==o?void 0:o.uuid,e,t,a,r]),u=(0,l.useCallback)(async function(s){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(null==o?void 0:o.uuid))return null==t||t(),Promise.resolve(null);if(!i||!e)return Promise.resolve(null);try{let t=new URL("/api/organizations/".concat(o.uuid,"/artifacts/").concat(e.type,"/").concat(e.uuid,"/storage/").concat(encodeURIComponent(s)),window.location.origin);t.searchParams.set("shared",n.toString()),a&&t.searchParams.set("chat_conversation_uuid",a);let l=await fetch(t.toString(),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!l.ok)throw Error("Database error: ".concat(l.status));let i=await l.json();return null==r||r(),Promise.resolve(i)}catch(e){return Promise.reject(e)}},[i,null==o?void 0:o.uuid,e,t,a,r]),f=(0,l.useCallback)(async function(s){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(null==o?void 0:o.uuid))return null==t||t(),Promise.resolve(null);if(!i||!e)return Promise.resolve(null);try{let t=new URL("/api/organizations/".concat(o.uuid,"/artifacts/").concat(e.type,"/").concat(e.uuid,"/storage"),window.location.origin);s&&t.searchParams.set("prefix",s),t.searchParams.set("shared",n.toString()),a&&t.searchParams.set("chat_conversation_uuid",a);let l=await fetch(t.toString(),{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw Error("Database error: ".concat(l.status));let r=await l.json();return Promise.resolve(r)}catch(e){return Promise.reject(e)}},[i,null==o?void 0:o.uuid,e,t,a]);return{get:c,set:d,delete:u,list:f}}},85028:(e,t,a)=>{a.d(t,{Ns:()=>u,XJ:()=>d,mt:()=>c,r$:()=>i,rz:()=>f});var s=a(1613),n=a(64328),l=a(68067),r=a(4869);let o="artifact_tool_configuration",i="artifact_storage_info",c=e=>{let{entityId:t,artifactEntityType:a}=e,{activeOrganization:r}=(0,n.YL)(),i=null==r?void 0:r.uuid,{value:c}=(0,l.fS)("claude_create_marble");return(0,s.Sk)("/api/organizations/".concat(i,"/artifacts/").concat(a,"/").concat(t,"/tools"),{queryKey:[o,{orgUuid:i,entityId:t,artifactEntityType:a}],enabled:!!i&&!!t&&c,meta:{noToast:!0}})},d=e=>{let{entityId:t,artifactEntityType:a}=e,{activeOrganization:i}=(0,n.YL)(),c=null==i?void 0:i.uuid,d=(0,r.useQueryClient)(),{value:u}=(0,l.fS)("claude_create_marble");return(0,s.L2)("/api/organizations/".concat(c,"/artifacts/").concat(a,"/").concat(t,"/tools"),"POST",{enabled:!!c&&!!t&&u,onSuccess:()=>{d.invalidateQueries({queryKey:[o,{orgUuid:c,entityId:t,artifactEntityType:a}]})},meta:{noToast:!0}})},u=(e,t)=>{var a;let{entityId:r,artifactEntityType:o,conversationUuid:c}=e,{activeOrganization:d}=(0,n.YL)(),u=null==d?void 0:d.uuid,{value:f}=(0,l.fS)("claude_create_pebble_stone"),h=c?"/api/organizations/".concat(u,"/artifacts/").concat(o,"/").concat(r,"/manage/storage/info?chat_conversation_uuid=").concat(c):"/api/organizations/".concat(u,"/artifacts/").concat(o,"/").concat(r,"/manage/storage/info");return(0,s.Sk)(h,{queryKey:[i,{orgUuid:u,entityId:r,artifactEntityType:o,conversationUuid:c}],enabled:!!u&&!!r&&f&&(null==(a=null==t?void 0:t.enabled)||a),staleTime:0,meta:{noToast:!0}})},f=e=>{let{entityId:t,artifactEntityType:a,conversationUuid:o}=e,{activeOrganization:c}=(0,n.YL)(),d=null==c?void 0:c.uuid,u=(0,r.useQueryClient)(),{value:f}=(0,l.fS)("claude_create_pebble_stone"),h=o?"/api/organizations/".concat(d,"/artifacts/").concat(a,"/").concat(t,"/manage/storage/reset?chat_conversation_uuid=").concat(o):"/api/organizations/".concat(d,"/artifacts/").concat(a,"/").concat(t,"/manage/storage/reset");return(0,s.L2)(h,"DELETE",{enabled:!!d&&!!t&&f,onSuccess:()=>{u.invalidateQueries({queryKey:[i,{orgUuid:d,entityId:t,artifactEntityType:a,conversationUuid:o}]})},meta:{noToast:!0}})}}}]);