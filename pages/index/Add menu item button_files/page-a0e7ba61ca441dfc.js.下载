try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4c6396c2-257c-4243-907d-c249b8f82175",e._sentryDebugIdIdentifier="sentry-dbid-4c6396c2-257c-4243-907d-c249b8f82175")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9916],{22066:(e,t,n)=>{Promise.resolve().then(n.bind(n,99067)),Promise.resolve().then(n.bind(n,68145))},68145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SessionClientPage:()=>g});var s=n(54568),r=n(47592),o=n(7620),i=n(17421),l=n(98324),a=n(18849),u=n(58841),d=n(71302),c=n(16304);function g(e){let{id:t}=e,{isLoading:n,messageUuids:g,conversationTitle:f,title:m,sendMessage:p}=function(e){var t;let{data:n,isLoading:s}=(0,i.gn)(e),l=null!=(t=null==n?void 0:n.title)?t:"Untitled",{messages:a,sendMessage:u,pendingMessages:d,loadingInitialMessages:g}=(0,i.ct)(e,l),f=g||s,m=(0,o.useMemo)(()=>a?y(a,d):[],[a,d]),p=(0,o.useMemo)(()=>m.map(e=>e.uuid),[m]),h=(null==n?void 0:n.title)?"".concat(n.title," - Claude"):"Claude";return(0,r.K7)(l),(0,c.V)(e,m||[],g),{isLoading:f,messageUuids:p,conversationTitle:h,title:l,sendMessage:u}}(t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.u,{conversationUuid:t,children:(0,s.jsx)(a._,{conversationUuid:t,children:(0,s.jsx)(l.v,{isLoading:n,conversationUuid:t,messageUuids:g,name:m,conversationTitle:f,onSend:e=>(p(e.prompt),Promise.resolve()),setPersonalizedStyleCallback:()=>{},isStreaming:!1,onRetry:()=>{throw Error("Cannot retry")},changeDisplayedConversationPath:()=>{throw Error("Not supported")},editMessage:()=>{throw Error("Not supported")}})})}),(0,s.jsx)(d.PaymentVerificationModal,{})]})}function f(e){var t;return Array.isArray(e.message.content)?e.message.content.filter(e=>"text"===e.type):[{type:"text",text:null!=(t=e.message.content)?t:""}]}let y=(e,t)=>{let n=[],s=0;for(let[t,o]of e.entries())if(s=t+1,"user"===o.type){let e=f(o);e.length&&n.push({index:t,content:e,sender:"human",uuid:o.uuid,created_at:"",...m})}else if("assistant"===o.type){var r;let s=function(e,t){var n,s,r,o,i;if(t&&"user"===t.type&&Array.isArray(t.message.content)&&1===t.message.content.length&&(null==(n=t.message.content[0])?void 0:n.type)==="tool_result"&&(null==(r=e.message.content)||null==(s=r[0])?void 0:s.type)==="tool_use"&&t.message.content[0].tool_use_id===(null==(i=e.message.content)||null==(o=i[0])?void 0:o.id)){let e=t.message.content[0].content,n=Array.isArray(e)?e:[{type:"text",text:null!=e?e:""}];return{...t.message.content[0],content:n}}return null}(o,e[t+1]),i=[...null!=(r=o.message.content)?r:[],...s?[s]:[]];n.push({index:t,content:i,sender:"assistant",uuid:o.uuid,created_at:"",...m})}for(let[e,r]of t.entries()){let t=f(r);t.length&&n.push({index:e+s,content:t,sender:"human",uuid:r.uuid,created_at:"",pending:!0,...m})}return n},m={attachments:[],files:[],files_v2:[],sync_sources:[]}}},e=>{e.O(0,[4364,3473,4129,7598,9666,4407,6365,9664,3402,1295,3965,4939,2574,6111,1746,3932,4882,5058,489,5312,4977,2492,6685,7151,9414,2522,2678,2864,8944,4024,6184,4130,1248,8077,2221,7648,6081,4328,4813,6292,5317,8579,5580,9001,6614,3121,329,252,3188,7415,2605,9052,4621,1764,6443,1848,9038,4134,6160,1312,1166,7784,6054,4055,9455,6370,1675,9863,8517,8324,9067,5313,587,9122,7358],()=>e(e.s=22066)),_N_E=e.O()}]);